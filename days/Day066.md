
# Day066 🎥 Songle APIによる音楽解析と投影準備

---

## 🎯 目的

ストリートミュージシャンとのコラボを想定し、音楽と同期したプロジェクション映像を実現したい。
そのために Songle API を使って「Beat / Chord / Chorus / Melody」情報を取得し、TouchDesignerで映像制御につなげる。

---

## 🧠 思考・動機

* 「街角ライブに映像を重ねる」ことで注目を集めたい。
* Beatやサビのタイミングで映像を動かせば、観客の体験が増幅される。
* 技術的には「音楽解析データを機械的に扱えるかどうか」が鍵になる。

---

## ⚙️ 実装と試行

1. **Python + Tkinter GUIツール作成**

   * 曲URLを入力
   * Beat/Chord/Chorus/Melody を選択してJSON保存
   * 保存フォルダもGUIで指定可能

2. **Songle API連携実装**

   * `song.json` → 登録して `song_id` を取得
   * `beat.json` / `chord.json` などで解析結果を取得 → JSON保存

3. **責務分離**

   * `register_song(url)`：曲登録関数
   * `fetch_analysis(song_id, endpoint, save_dir)`：解析データ保存関数
   * GUIから呼び出せるよう整理

---

## 📊 操作フェーズチェック

* 該当した番号：①入力の据え方
* コメント：音楽データをそのまま扱うのではなく、**Songle APIを通じて意味的に分解された入力（Beat, Chord, Chorus, Melody）** を取得している。
  → 波形ではなく「イベント情報」を入力として据えた点が特徴的。

---

## 🔁 洞察・考察

* **課題の本質**は「解析対象外の曲」問題。
* SongleはすべてのYouTubeに対応していない → 著作権や埋め込み制限でNG曲は不可。
* 代替として Essentia / madmom / librosa など他ライブラリを検討可能。

---

## 🪶 感情・印象

* 「コードは正しいのに404」が繰り返し出て、無駄に悩まされた。
* 技術的に詰まったというより、対象曲の制約で止まるのはもどかしい。
* ただ「素材選びを変えれば進める」と切り分けられたのは収穫。

---

## 🙏 感謝・引用

* **Songle開発者・運営チーム**
  → APIやWebサービスを公開してくれているおかげで、音楽解析を触れる機会が得られた。
* **PythonやOSSライブラリの作者たち**
  → Tkinter, requests, soundfile など定番ライブラリがあったからGUIやJSON保存を構築できた。
* **ストリートミュージシャン／未来のコラボ相手**
  → まだ直接関わっていないが、想像の中で「誰かと一緒にやる」ことがモチベーションを生んでいる。

---

## 🛠 次の一手

1. **Songle公式で再生できるか事前確認**（URLやmp3を投げてチェック）。
2. **代替解析ライブラリの調査**（Essentia / madmom / librosa）。
3. **GUIツール仕上げ** → JSON取得 → TouchDesignerで同期映像生成へ。

---

## 🏷 タグ

#Songle #音楽解析 #プロジェクション #ストリートパフォーマンス #技術的制約

---
